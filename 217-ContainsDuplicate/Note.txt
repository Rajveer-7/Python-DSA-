LeetCode 217. Contains Duplicate

Problem
You are given an integer array nums.
Return True if any value appears at least twice in the array.
Return False if every element is distinct.

Examples

nums = [1, 2, 3, 1] → True
The element 1 appears more than once.

nums = [1, 2, 3, 4] → False
All elements are unique.

nums = [1, 1, 1, 3, 3, 4, 3, 2, 4, 2] → True
Several elements appear multiple times.

Constraints
1 <= nums.length <= 10^5
-10^9 <= nums[i] <= 10^9

Intuition

We need to detect if there is any duplicate in the array.

Brute force would compare every pair of elements, which is too slow for 10^5 elements (that would be O(n^2)).

A better way is to use a set, which stores only unique elements. While scanning the array:

If a number is already in the set, we have found a duplicate → return True.

If not, we add it to the set and keep going.

If we finish the loop without finding duplicates, return False.

This uses the fact that set membership checks are O(1) on average.

Approach: Hash Set While Scanning

Algorithm

Create an empty set, for example seen.

Loop through each number n in nums:

If n is already in seen, immediately return True.

Otherwise, add n to seen.

If the loop finishes without returning, return False.

This is a classic “scan with hash set” pattern.

Code (Python)
class Solution:
    def containsDuplicate(self, nums):
        seen = set()  # will store all unique numbers we have seen so far
        
        for n in nums:
            if n in seen:       # if we have seen n before, it's a duplicate
                return True
            seen.add(n)         # mark n as seen
        
        # if we finish the loop, no duplicates were found
        return False

Dry Run Example

Input
nums = [1, 2, 3, 1]

Step by step

Start with seen = {} (empty set)

Look at n = 1
1 is not in seen → add it
seen = {1}

Look at n = 2
2 is not in seen → add it
seen = {1, 2}

Look at n = 3
3 is not in seen → add it
seen = {1, 2, 3}

Look at n = 1 again
1 is already in seen → duplicate found → return True

We never even need to check the rest of the array once a duplicate is found.

Complexity

Time complexity

We traverse the array once.

Each set lookup and insertion is O(1) average case.

Overall time: O(n)

Space complexity

In the worst case (all elements distinct), the set stores all n elements.

Overall space: O(n)
